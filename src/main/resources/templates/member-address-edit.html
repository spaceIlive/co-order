<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/header :: header}" />
<body>
<div class="container">
    <div th:replace="~{fragments/bodyHeader :: bodyHeader}"></div>

    <div class="py-5">
        <h2>배송지 정보 수정</h2>
        <p class="text-muted">현재 사용 중인 주소와 좌표를 업데이트하면 신규 모집글 검색과 배달비 계산에 바로 반영됩니다.</p>

        <form role="form" th:object="${addressForm}" action="/members/address" method="post">
            <div class="mb-3">
                <label th:for="address" class="form-label">주소</label>
                <input type="text" th:field="*{address}"
                       th:class="${#fields.hasErrors('address')} ? 'form-control fieldError' : 'form-control'"
                       placeholder="예) 서울시 강남구 ...">
                <p th:if="${#fields.hasErrors('address')}"
                   th:errors="*{address}" class="text-danger">Address Error</p>
            </div>

            <div class="mb-3">
                <label th:for="latitude" class="form-label">위도</label>
                <input type="number" step="0.000001" th:field="*{latitude}"
                       th:class="${#fields.hasErrors('latitude')} ? 'form-control fieldError' : 'form-control'"
                       placeholder="위도를 입력하세요" required>
                <p th:if="${#fields.hasErrors('latitude')}"
                   th:errors="*{latitude}" class="text-danger">Latitude Error</p>
            </div>

            <div class="mb-3">
                <label th:for="longitude" class="form-label">경도</label>
                <input type="number" step="0.000001" th:field="*{longitude}"
                       th:class="${#fields.hasErrors('longitude')} ? 'form-control fieldError' : 'form-control'"
                       placeholder="경도를 입력하세요" required>
                <p th:if="${#fields.hasErrors('longitude')}"
                   th:errors="*{longitude}" class="text-danger">Longitude Error</p>
            </div>

            <div class="d-flex gap-2">
                <button type="submit" class="btn btn-primary">주소 저장</button>
                <a th:href="@{/}" class="btn btn-secondary">메인으로</a>
            </div>
        </form>
    </div>

    <div th:replace="~{fragments/footer :: footer}"></div>
</div>

<script th:src="@{/js/bootstrap.bundle.min.js}"></script>
</body>
</html>

